<template>
  <lightning-card>
    <div slot="title">
      <p>
        <lightning-formatted-url
          value={tabUrl}
          label={componentHeader}
          tooltip={componentHeader}
          target="_blank"
        ></lightning-formatted-url>
      </p>
    </div>
    <lightning-button-menu
      onselect={handleSelect}
      alternative-text="Show menu"
      variant="border-filled"
      slot="actions"
      icon-name="utility:filterList"
      menu-alignment="bottom-right"
    >
      <lightning-menu-item
        value="My IC Approvals"
        label="My IC Approvals"
      ></lightning-menu-item>
      <lightning-menu-item
        value="All"
        label="All IC Approvals"
      ></lightning-menu-item>
    </lightning-button-menu>
    <div class="slds-p-horizontal_small">
      <lightning-accordion allow-multiple-sections-open>
        <template for:each={approvalData} for:item="approval">
          <lightning-accordion-section
            key={approval.id}
            name={approval.id}
            label={approval.approvalName}
          >
            <p><strong>Status: </strong> {approval.subStatus}</p>
            <p>
              <strong>Date Submitted: </strong>
              <lightning-formatted-date-time
                value={approval.dateSubmitted}
              ></lightning-formatted-date-time>
            </p>
            <p>
              <strong>Time since submission: </strong> {approval.timeSinceSub}
            </p>
            <p><strong>Approver Name: </strong> {approval.approverName}</p>
            <p>
              <strong>
                <lightning-formatted-url
                  value={approval.approvalUrl}
                  label="Link to Approval Page"
                  tooltip="Link to Approval Page"
                  target="_blank"
                ></lightning-formatted-url>
              </strong>
            </p>
          </lightning-accordion-section>
        </template>
      </lightning-accordion>
    </div>
  </lightning-card>
</template>