<template>
  <template if:true={recordId}>
    <template if:true={isComponentReady}>
      <div class="slds-box">
        <lightning-card
          variant="Narrow"
          title={cardTitle}
          icon-name="standard:account"
        >
          <template if:true={showEditButton}>
            <lightning-button
              label="Edit"
              variant="brand"
              data-name="edit"
              slot="actions"
              onclick={handleClick}
              if:false={isEditMode}
            ></lightning-button>
            <lightning-button
              label="Save"
              variant="brand"
              data-name="save"
              slot="actions"
              onclick={handleClick}
              if:true={isEditMode}
            ></lightning-button>
            <lightning-button
              label="Cancel"
              slot="actions"
              data-name="cancel"
              onclick={handleClick}
              if:true={isEditMode}
            ></lightning-button>
          </template>
          <div class="slds-p-horizontal_small">
            <c-custom-data-table
              key-field="Id"
              columns={columns}
              data={tableData}
              hide-checkbox-column
              default-sort-direction={defaultSortDirection}
              sorted-direction={sortDirection}
              sorted-by={sortedBy}
              onsort={onHandleSort}
              onpicklistchanged={handlePicklistChange}
              oncellchange={handleCellChange}
              suppress-bottom-bar
            >
            </c-custom-data-table>
          </div>
        </lightning-card>
      </div>
    </template>
  </template>
</template>